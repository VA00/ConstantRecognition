<!DOCTYPE html>
<html>
<head>
  <title>WASM RPN Inverse Calculator</title>
</head>
<body>

<h1> Constant Recognizer </h1>

  <p>
  Below we have a picture of the "standard" 36-button scientific RPN calculator. 
 </p>
  <p>
  <IMG width=600px src="CALC4.png"> 
  </p>
 
  <p>
  Enter any real number to find out, if some sequence of the above buttons could re-discover it.
  Use floating-point format, e.g:
  <UL>
   <LI> 1e3
   <LI> 0.22222222222
   <LI> 137
   <LI> -0.0833333333333
  <UL> 
  </p>
  
  <p>
  <input id="numberInput" type="number" placeholder="Enter a number">
  <button onclick="calculate()">Calculate RPN</button>
  </p>
 
  <p>
  <div id="result"></div>
  </p>

  
<h1> NOTE </h1>
  <p>
  Search is currently limited to code length of 5, performed using single thread and real numbers. 
  To use longer sequences, custom calculators, complex numbers, recognition of functions and massively multi-threaded search, wait for new version
  or contact author at andrzej.odrzywolek@uj.edu.pl. <B> ENJOY! </B> 
  </p>

  <script src="rpn_function.js"></script>
  <script>
    const input = document.getElementById('numberInput');
    const resultDiv = document.getElementById('result');

    // Define the calculate function that calls the WebAssembly function
    function calculate() {
      const z = parseFloat(input.value);
      // Use ccall to call the WebAssembly function
      //const rpnCode = Module.ccall('calculateRPN', 'string', ['number'], [z]);
      const rpnCode = Module.ccall('search_RPN', 'string', ['number'], [z]);
      resultDiv.innerText = `RPN Code: ${rpnCode}`;
    }
  </script>


<p> UPDATED: 2024-01-03 18:41 </p>
</body>
</html>
